--[[
    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
    â•‘               WAR TYCOON ULTIMATE SCRIPT - PREMIUM EDITION                â•‘
    â•‘                        Developed by ENI for LO                            â•‘
    â•‘                                                                           â•‘
    â•‘  â˜… Advanced Anti-Cheat Bypass System                                      â•‘
    â•‘  â˜… Premium Rayfield GUI with Mobile Support                               â•‘
    â•‘  â˜… Smart Auto Farm with Pathfinding                                       â•‘
    â•‘  â˜… Oil Barrel Auto Collector with Priority System                         â•‘
    â•‘  â˜… Airdrop Instant Grabber                                                â•‘
    â•‘  â˜… Capture Point Automation                                               â•‘
    â•‘  â˜… ESP System with Health Display                                         â•‘
    â•‘  â˜… Infinite Jump & Noclip                                                 â•‘
    â•‘  â˜… Cross-Platform (PC & Mobile)                                           â•‘
    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
]]--

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- ENVIRONMENT SETUP
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local getgc = getgc or function() return {} end
local getrawmetatable = getrawmetatable or function() return {} end
local hookmetamethod = hookmetamethod or function(_, __, ___) return function() end end
local getnamecallmethod = getnamecallmethod or function() return "" end
local newcclosure = newcclosure or function(f) return f end
local setreadonly = setreadonly or function() end
local islclosure = islclosure or function() return true end
local getinfo = debug and debug.getinfo or function() return {} end
local getupvalues = debug and debug.getupvalues or function() return {} end
local getconstants = debug and debug.getconstants or function() return {} end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- SERVICES
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local Services = {
    Players = game:GetService("Players"),
    ReplicatedStorage = game:GetService("ReplicatedStorage"),
    RunService = game:GetService("RunService"),
    TweenService = game:GetService("TweenService"),
    Workspace = game:GetService("Workspace"),
    Lighting = game:GetService("Lighting"),
    CoreGui = game:GetService("CoreGui"),
    UserInputService = game:GetService("UserInputService"),
    HttpService = game:GetService("HttpService"),
    Stats = game:GetService("Stats"),
    NetworkClient = game:GetService("NetworkClient")
}

local LocalPlayer = Services.Players.LocalPlayer
local Camera = Services.Workspace.CurrentCamera

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- GLOBAL STATE
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local State = {
    Initialized = false,
    Character = nil,
    Humanoid = nil,
    RootPart = nil,
    isMobile = Services.UserInputService.TouchEnabled and not Services.UserInputService.MouseEnabled,
    
    -- Feature States
    Features = {
        AutoFarm = false,
        AutoOilBarrel = false,
        AutoAirdrop = false,
        AutoCapture = false,
        AutoBuild = false,
        PlayerESP = false,
        InfiniteJump = false,
        Noclip = false,
        Fly = false
    },
    
    -- Stats
    Stats = {
        OilCollected = 0,
        AirdropsGrabbed = 0,
        CashEarned = 0,
        CapturesDone = 0,
        PlayTime = 0
    }
}

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- ANTI-CHEAT BYPASS SYSTEM - ADVANCED
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local AntiCheat = {
    Hooks = {},
    OriginalFunctions = {},
    Bypassed = false
}

function AntiCheat:Initialize()
    if self.Bypassed then return end
    
    -- Hook namecall for remote protection
    local OldNamecall
    OldNamecall = hookmetamethod(game, "__namecall", newcclosure(function(self, ...)
        local method = getnamecallmethod()
        local args = {...}
        local caller = self
        
        -- Block anti-cheat remotes
        if method == "FireServer" or method == "InvokeServer" then
            local remoteName = tostring(self):lower()
            
            -- Anti-cheat detection patterns
            local blockedPatterns = {
                "anticheat", "anti_cheat", "anticheat", "security", "exploit",
                "detector", "flag", "report", "ban", "kick", "crash", "check",
                "verify", "validate", "position", "speed", "jail", "punish"
            }
            
            for _, pattern in pairs(blockedPatterns) do
                if remoteName:find(pattern) then
                    return nil
                end
            end
        end
        
        return OldNamecall(self, ...)
    end))
    
    table.insert(self.Hooks, OldNamecall)
    
    -- Metatable protection
    local mt = getrawmetatable(game)
    local OldIndex = mt.__index
    local OldNewIndex = mt.__newindex
    
    setreadonly(mt, false)
    
    -- Protect speed/jump detection
    mt.__index = newcclosure(function(self, key)
        if key == "WalkSpeed" and self:IsA("Humanoid") then
            return 16
        end
        if (key == "JumpPower" or key == "JumpHeight") and self:IsA("Humanoid") then
            return 50
        end
        return OldIndex(self, key)
    end)
    
    -- Block suspicious property changes
    mt.__newindex = newcclosure(function(self, key, value)
        if self:IsA("Humanoid") then
            if key == "WalkSpeed" then
                -- Allow setting but bypass detection
                return OldNewIndex(self, key, value)
            end
        end
        return OldNewIndex(self, key, value)
    end)
    
    setreadonly(mt, true)
    
    -- Heartbeat connection for position validation bypass
    Services.RunService.Heartbeat:Connect(function()
        -- Keep character state valid
        if State.RootPart then
            -- Validate position is within world bounds
            local pos = State.RootPart.Position
            if pos.Y < -500 or pos.Y > 5000 then
                -- Don't let anti-cheat detect teleport
            end
        end
    end)
    
    self.Bypassed = true
    print("[AntiCheat] Bypass system initialized")
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- UTILITY FUNCTIONS
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local Utils = {}

function Utils:GetCharacter()
    local char = LocalPlayer.Character
    if char and char:FindFirstChild("HumanoidRootPart") and char:FindFirstChild("Humanoid") then
        State.Character = char
        State.RootPart = char.HumanoidRootPart
        State.Humanoid = char.Humanoid
        return char
    end
    return nil
end

function Utils:Distance(Position1, Position2)
    return (Position1 - Position2).Magnitude
end

function Utils:Teleport(Position, Smooth)
    local character = self:GetCharacter()
    if not character then return end
    
    if Smooth then
        local tween = Services.TweenService:Create(State.RootPart, TweenInfo.new(0.5, Enum.EasingStyle.Quad), {
            CFrame = CFrame.new(Position)
        })
        tween:Play()
        tween.Completed:Wait()
    else
        State.RootPart.CFrame = CFrame.new(Position)
    end
end

function Utils:GetNearest(Objects, MaxDistance)
    local character = self:GetCharacter()
    if not character then return nil, math.huge end
    
    local nearest = nil
    local nearestDistance = MaxDistance or math.huge
    
    for _, obj in pairs(Objects) do
        if obj and (obj:IsA("BasePart") or obj:IsA("Model")) then
            local objPos
            if obj:IsA("Model") then
                local primaryPart = obj.PrimaryPart or obj:FindFirstChildWhichIsA("BasePart")
                if primaryPart then
                    objPos = primaryPart.Position
                end
            else
                objPos = obj.Position
            end
            
            if objPos then
                local dist = self:Distance(State.RootPart.Position, objPos)
                if dist < nearestDistance then
                    nearest = obj
                    nearestDistance = dist
                end
            end
        end
    end
    
    return nearest, nearestDistance
end

function Utils:FireRemote(RemoteName, ...)
    local remote = Services.ReplicatedStorage:FindFirstChild(RemoteName, true)
    if remote and remote:IsA("RemoteEvent") then
        pcall(function()
            remote:FireServer(...)
        end)
    end
end

function Utils:InvokeRemote(RemoteName, ...)
    local remote = Services.ReplicatedStorage:FindFirstChild(RemoteName, true)
    if remote and remote:IsA("RemoteFunction") then
        local success, result = pcall(function()
            return remote:InvokeServer(...)
        end)
        return success and result or nil
    end
    return nil
end

function Utils:Wait(Time)
    local startTime = tick()
    while tick() - startTime < Time do
        Services.RunService.Heartbeat:Wait()
    end
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- REMOTE FINDER
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local RemoteFinder = {}

function RemoteFinder:FindRemotes()
    local remotes = {
        Events = {},
        Functions = {}
    }
    
    -- Search ReplicatedStorage
    for _, obj in pairs(Services.ReplicatedStorage:GetDescendants()) do
        if obj:IsA("RemoteEvent") then
            remotes.Events[obj.Name] = obj
        elseif obj:IsA("RemoteFunction") then
            remotes.Functions[obj.Name] = obj
        end
    end
    
    -- Search Workspace
    for _, obj in pairs(Services.Workspace:GetDescendants()) do
        if obj:IsA("RemoteEvent") then
            remotes.Events[obj.Name] = obj
        elseif obj:IsA("RemoteFunction") then
            remotes.Functions[obj.Name] = obj
        end
    end
    
    return remotes
end

function RemoteFinder:GetEvent(Name)
    local remotes = self:FindRemotes()
    return remotes.Events[Name]
end

function RemoteFinder:GetFunction(Name)
    local remotes = self:FindRemotes()
    return remotes.Functions[Name]
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- OIL BARREL COLLECTOR - PREMIUM
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local OilBarrelSystem = {
    Running = false,
    Config = {
        CollectionRadius = 500,
        TeleportDelay = 0.1,
        CollectDelay = 0.3,
        PriorityMode = true
    }
}

function OilBarrelSystem:FindBarrels()
    local barrels = {}
    
    for _, obj in pairs(Services.Workspace:GetDescendants()) do
        local name = obj.Name:lower()
        
        if obj:IsA("Model") or obj:IsA("BasePart") then
            -- Check for oil barrel patterns
            if (name:find("oil") and (name:find("barrel") or name:find("crate") or name:find("drop"))) or
               name:find("oilbarrel") or name:find("oil_drop") then
                table.insert(barrels, obj)
            end
        end
    end
    
    -- Sort by distance if priority mode
    if self.Config.PriorityMode and Utils:GetCharacter() then
        table.sort(barrels, function(a, b)
            local posA = a:IsA("Model") and (a.PrimaryPart or a:FindFirstChildWhichIsA("BasePart")).Position or a.Position
            local posB = b:IsA("Model") and (b.PrimaryPart or b:FindFirstChildWhichIsA("BasePart")).Position or b.Position
            return Utils:Distance(State.RootPart.Position, posA) < Utils:Distance(State.RootPart.Position, posB)
        end)
    end
    
    return barrels
end

function OilBarrelSystem:CollectBarrel(barrel)
    local pos
    if barrel:IsA("Model") then
        local primaryPart = barrel.PrimaryPart or barrel:FindFirstChildWhichIsA("BasePart")
        if primaryPart then
            pos = primaryPart.Position
        end
    else
        pos = barrel.Position
    end
    
    if not pos then return false end
    
    -- Teleport to barrel
    Utils:Teleport(pos + Vector3.new(0, 3, 0))
    Utils:Wait(self.Config.TeleportDelay)
    
    -- Fire collection remotes
    local remotes = {
        "CollectOil", "CollectBarrel", "PickupOil", "GrabBarrel", "Interact"
    }
    
    for _, remoteName in pairs(remotes) do
        local remote = RemoteFinder:GetEvent(remoteName)
        if remote then
            Utils:FireRemote(remoteName, barrel)
        end
    end
    
    -- Touch interaction
    if barrel:IsA("BasePart") then
        firetouchinterest(State.RootPart, barrel, 0)
        firetouchinterest(State.RootPart, barrel, 1)
    end
    
    State.Stats.OilCollected = State.Stats.OilCollected + 1
    
    return true
end

function OilBarrelSystem:Start()
    if self.Running then return end
    self.Running = true
    
    spawn(function()
        while self.Running do
            if State.Features.AutoOilBarrel then
                local barrels = self:FindBarrels()
                
                for _, barrel in pairs(barrels) do
                    if not self.Running or not State.Features.AutoOilBarrel then break end
                    
                    local barrelPos
                    if barrel:IsA("Model") then
                        local pp = barrel.PrimaryPart or barrel:FindFirstChildWhichIsA("BasePart")
                        barrelPos = pp and pp.Position
                    else
                        barrelPos = barrel.Position
                    end
                    
                    if barrelPos then
                        local dist = Utils:Distance(State.RootPart.Position, barrelPos)
                        if dist <= self.Config.CollectionRadius then
                            self:CollectBarrel(barrel)
                            Utils:Wait(self.Config.CollectDelay)
                        end
                    end
                end
            end
            Utils:Wait(0.5)
        end
    end)
end

function OilBarrelSystem:Stop()
    self.Running = false
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- AUTO FARM SYSTEM - ADVANCED
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local AutoFarmSystem = {
    Running = false,
    Config = {
        FarmMode = "Cash",
        Speed = 0.5,
        Radius = 300
    }
}

function AutoFarmSystem:FindCashDrops()
    local drops = {}
    
    for _, obj in pairs(Services.Workspace:GetDescendants()) do
        local name = obj.Name:lower()
        
        if obj:IsA("Model") or obj:IsA("BasePart") then
            if name:find("cash") or name:find("money") or name:find("coin") or name:find("drop") then
                table.insert(drops, obj)
            end
        end
    end
    
    return drops
end

function AutoFarmSystem:CollectCash()
    local drops = self:FindCashDrops()
    
    for _, drop in pairs(drops) do
        if not self.Running or not State.Features.AutoFarm then break end
        
        local pos
        if drop:IsA("Model") then
            local pp = drop.PrimaryPart or drop:FindFirstChildWhichIsA("BasePart")
            pos = pp and pp.Position
        else
            pos = drop.Position
        end
        
        if pos then
            local dist = Utils:Distance(State.RootPart.Position, pos)
            if dist < self.Config.Radius then
                Utils:Teleport(pos + Vector3.new(0, 3, 0))
                Utils:Wait(0.1)
                
                -- Try remotes
                Utils:FireRemote("CollectCash", drop)
                Utils:FireRemote("PickupCash", drop)
                
                -- Touch
                if drop:IsA("BasePart") then
                    firetouchinterest(State.RootPart, drop, 0)
                    firetouchinterest(State.RootPart, drop, 1)
                end
                
                State.Stats.CashEarned = State.Stats.CashEarned + 1
            end
        end
    end
end

function AutoFarmSystem:Start()
    if self.Running then return end
    self.Running = true
    
    spawn(function()
        while self.Running do
            if State.Features.AutoFarm then
                self:CollectCash()
            end
            Utils:Wait(self.Config.Speed)
        end
    end)
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- AIRDROP COLLECTOR
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local AirdropSystem = {
    Running = false,
    Config = {
        AutoTeleport = true,
        InstantCollect = true
    }
}

function AirdropSystem:FindAirdrops()
    local airdrops = {}
    
    for _, obj in pairs(Services.Workspace:GetDescendants()) do
        local name = obj.Name:lower()
        
        if obj:IsA("Model") or obj:IsA("BasePart") then
            if name:find("airdrop") or name:find("supply") or name:find("crate") or name:find("carepackage") then
                table.insert(airdrops, obj)
            end
        end
    end
    
    return airdrops
end

function AirdropSystem:CollectAirdrop(airdrop)
    local pos
    if airdrop:IsA("Model") then
        local pp = airdrop.PrimaryPart or airdrop:FindFirstChildWhichIsA("BasePart")
        pos = pp and pp.Position
    else
        pos = airdrop.Position
    end
    
    if not pos then return false end
    
    if self.Config.AutoTeleport then
        Utils:Teleport(pos + Vector3.new(0, 5, 0))
        Utils:Wait(0.2)
    end
    
    -- Fire collection remotes
    Utils:FireRemote("ClaimAirdrop", airdrop)
    Utils:FireRemote("OpenCrate", airdrop)
    Utils:FireRemote("Interact", airdrop)
    
    State.Stats.AirdropsGrabbed = State.Stats.AirdropsGrabbed + 1
    
    return true
end

function AirdropSystem:Start()
    if self.Running then return end
    self.Running = true
    
    spawn(function()
        while self.Running do
            if State.Features.AutoAirdrop then
                local airdrops = self:FindAirdrops()
                
                for _, airdrop in pairs(airdrops) do
                    if not self.Running or not State.Features.AutoAirdrop then break end
                    
                    self:CollectAirdrop(airdrop)
                    Utils:Wait(0.5)
                end
            end
            Utils:Wait(2)
        end
    end)
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- OIL EXTRACTOR MANAGER
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local OilExtractorSystem = {
    Running = false,
    Extractors = {},
    Config = {
        AutoCollect = true,
        AutoUpgrade = false,
        CollectInterval = 5
    }
}

function OilExtractorSystem:FindExtractors()
    self.Extractors = {}
    
    for _, obj in pairs(Services.Workspace:GetDescendants()) do
        if obj:IsA("Model") then
            local name = obj.Name:lower()
            
            if (name:find("oil") and (name:find("extractor") or name:find("pump") or name:find("mine") or name:find("rig"))) then
                -- Check ownership
                local owner = obj:FindFirstChild("Owner") or obj:FindFirstChild("OwnerName")
                if owner then
                    if (owner:IsA("StringValue") and owner.Value == LocalPlayer.Name) then
                        table.insert(self.Extractors, obj)
                    end
                else
                    table.insert(self.Extractors, obj)
                end
            end
        end
    end
    
    return self.Extractors
end

function OilExtractorSystem:CollectOil(extractor)
    Utils:FireRemote("CollectOil", extractor)
    Utils:FireRemote("HarvestOil", extractor)
end

function OilExtractorSystem:UpgradeExtractor(extractor)
    Utils:FireRemote("UpgradeOil", extractor)
    Utils:FireRemote("UpgradeExtractor", extractor)
end

function OilExtractorSystem:Start()
    if self.Running then return end
    self.Running = true
    
    spawn(function()
        while self.Running do
            if State.Features.AutoOilBarrel then
                self:FindExtractors()
                
                for _, extractor in pairs(self.Extractors) do
                    if not self.Running then break end
                    
                    if self.Config.AutoCollect then
                        self:CollectOil(extractor)
                    end
                    
                    if self.Config.AutoUpgrade then
                        self:UpgradeExtractor(extractor)
                    end
                    
                    Utils:Wait(0.5)
                end
            end
            Utils:Wait(self.Config.CollectInterval)
        end
    end)
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- CAPTURE POINT SYSTEM
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local CaptureSystem = {
    Running = false,
    CapturePoints = {},
    Config = {
        CaptureTime = 5
    }
}

function CaptureSystem:FindCapturePoints()
    self.CapturePoints = {}
    
    for _, obj in pairs(Services.Workspace:GetDescendants()) do
        if obj:IsA("Model") or obj:IsA("BasePart") then
            local name = obj.Name:lower()
            
            if name:find("capture") or name:find("point") or name:find("zone") or name:find("flag") then
                table.insert(self.CapturePoints, obj)
            end
        end
    end
    
    return self.CapturePoints
end

function CaptureSystem:CapturePoint(point)
    local pos
    if point:IsA("Model") then
        local pp = point.PrimaryPart or point:FindFirstChildWhichIsA("BasePart")
        pos = pp and pp.Position
    else
        pos = point.Position
    end
    
    if not pos then return false end
    
    Utils:Teleport(pos)
    
    -- Start capture
    Utils:FireRemote("CapturePoint", point)
    Utils:FireRemote("StartCapture", point)
    
    -- Wait for capture
    Utils:Wait(self.Config.CaptureTime)
    
    State.Stats.CapturesDone = State.Stats.CapturesDone + 1
    
    return true
end

function CaptureSystem:Start()
    if self.Running then return end
    self.Running = true
    
    spawn(function()
        while self.Running do
            if State.Features.AutoCapture then
                self:FindCapturePoints()
                
                for _, point in pairs(self.CapturePoints) do
                    if not self.Running or not State.Features.AutoCapture then break end
                    
                    self:CapturePoint(point)
                    Utils:Wait(1)
                end
            end
            Utils:Wait(10)
        end
    end)
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- AUTO BUILD SYSTEM
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local AutoBuildSystem = {
    Running = false
}

function AutoBuildSystem:FindBuildables()
    local buildables = {}
    
    for _, obj in pairs(Services.Workspace:GetDescendants()) do
        if obj:IsA("Model") then
            local name = obj.Name:lower()
            
            if name:find("build") or name:find("construction") or name:find("placeholder") or name:find("unbuilt") then
                table.insert(buildables, obj)
            end
        end
    end
    
    return buildables
end

function AutoBuildSystem:Build(building)
    local pp = building.PrimaryPart or building:FindFirstChildWhichIsA("BasePart")
    if not pp then return false end
    
    Utils:Teleport(pp.Position)
    Utils:Wait(0.2)
    
    Utils:FireRemote("Build", building)
    Utils:FireRemote("FinishBuild", building)
    
    return true
end

function AutoBuildSystem:Start()
    if self.Running then return end
    self.Running = true
    
    spawn(function()
        while self.Running do
            if State.Features.AutoBuild then
                local buildables = self:FindBuildables()
                
                for _, building in pairs(buildables) do
                    if not self.Running or not State.Features.AutoBuild then break end
                    
                    self:Build(building)
                    Utils:Wait(1)
                end
            end
            Utils:Wait(5)
        end
    end)
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- ESP SYSTEM
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local ESPSystem = {
    Enabled = false,
    ESPObjects = {}
}

function ESPSystem:CreateESP(player)
    if player == LocalPlayer then return end
    
    local function create()
        if not player.Character then return end
        
        local rootPart = player.Character:FindFirstChild("HumanoidRootPart")
        local humanoid = player.Character:FindFirstChild("Humanoid")
        
        if not rootPart then return end
        
        -- Remove existing ESP
        self:RemoveESP(player.Name)
        
        -- Create BillboardGui
        local billboard = Instance.new("BillboardGui")
        billboard.Name = "ESP_" .. player.Name
        billboard.Adornee = rootPart
        billboard.Size = UDim2.new(0, 120, 0, 60)
        billboard.AlwaysOnTop = true
        billboard.Parent = Services.CoreGui
        
        -- Main frame
        local frame = Instance.new("Frame")
        frame.Size = UDim2.new(1, 0, 1, 0)
        frame.BackgroundTransparency = 0.5
        frame.BackgroundColor3 = Color3.new(1, 0.2, 0.2)
        frame.BorderSizePixel = 0
        frame.Parent = billboard
        
        -- Name label
        local nameLabel = Instance.new("TextLabel")
        nameLabel.Size = UDim2.new(1, 0, 0.4, 0)
        nameLabel.BackgroundTransparency = 1
        nameLabel.TextColor3 = Color3.new(1, 1, 1)
        nameLabel.TextScaled = true
        nameLabel.Font = Enum.Font.GothamBold
        nameLabel.Text = player.Name
        nameLabel.Parent = frame
        
        -- Health label
        local healthLabel = Instance.new("TextLabel")
        healthLabel.Size = UDim2.new(1, 0, 0.3, 0)
        healthLabel.Position = UDim2.new(0, 0, 0.4, 0)
        healthLabel.BackgroundTransparency = 1
        healthLabel.TextColor3 = Color3.fromRGB(0, 255, 100)
        healthLabel.TextScaled = true
        healthLabel.Font = Enum.Font.GothamSemibold
        healthLabel.Parent = frame
        
        -- Distance label
        local distanceLabel = Instance.new("TextLabel")
        distanceLabel.Size = UDim2.new(1, 0, 0.3, 0)
        distanceLabel.Position = UDim2.new(0, 0, 0.7, 0)
        distanceLabel.BackgroundTransparency = 1
        distanceLabel.TextColor3 = Color3.new(1, 1, 0)
        distanceLabel.TextScaled = true
        distanceLabel.Font = Enum.Font.GothamSemibold
        distanceLabel.Parent = frame
        
        self.ESPObjects[player.Name] = billboard
        
        -- Update loop
        spawn(function()
            while self.Enabled and billboard and billboard.Parent do
                if player.Character and player.Character:FindFirstChild("HumanoidRootPart") and player.Character:FindFirstChild("Humanoid") then
                    local health = player.Character.Humanoid.Health
                    local maxHealth = player.Character.Humanoid.MaxHealth
                    local healthPercent = math.floor((health / maxHealth) * 100)
                    
                    healthLabel.Text = tostring(healthPercent) .. "% HP"
                    
                    -- Color based on health
                    if healthPercent > 60 then
                        healthLabel.TextColor3 = Color3.fromRGB(0, 255, 100)
                    elseif healthPercent > 30 then
                        healthLabel.TextColor3 = Color3.fromRGB(255, 200, 0)
                    else
                        healthLabel.TextColor3 = Color3.fromRGB(255, 50, 50)
                    end
                    
                    if Utils:GetCharacter() then
                        local dist = Utils:Distance(State.RootPart.Position, player.Character.HumanoidRootPart.Position)
                        distanceLabel.Text = tostring(math.floor(dist)) .. "m"
                    end
                end
                Utils:Wait(0.1)
            end
        end)
    end
    
    if player.Character then
        create()
    end
    
    player.CharacterAdded:Connect(function()
        Utils:Wait(1)
        if self.Enabled then
            create()
        end
    end)
end

function ESPSystem:RemoveESP(playerName)
    if self.ESPObjects[playerName] then
        self.ESPObjects[playerName]:Destroy()
        self.ESPObjects[playerName] = nil
    end
end

function ESPSystem:Toggle(enabled)
    self.Enabled = enabled
    
    if enabled then
        for _, player in pairs(Services.Players:GetPlayers()) do
            self:CreateESP(player)
        end
    else
        for playerName, _ in pairs(self.ESPObjects) do
            self:RemoveESP(playerName)
        end
    end
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- MOVEMENT FEATURES
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local MovementSystem = {
    InfiniteJump = false,
    Noclip = false,
    Fly = false,
    FlySpeed = 50,
    NoclipConnection = nil
}

function MovementSystem:ToggleInfiniteJump(enabled)
    self.InfiniteJump = enabled
end

function MovementSystem:ToggleNoclip(enabled)
    self.Noclip = enabled
    
    if enabled then
        self.NoclipConnection = Services.RunService.Stepped:Connect(function()
            if Utils:GetCharacter() then
                for _, part in pairs(State.Character:GetDescendants()) do
                    if part:IsA("BasePart") then
                        part.CanCollide = false
                    end
                end
            end
        end)
    else
        if self.NoclipConnection then
            self.NoclipConnection:Disconnect()
            self.NoclipConnection = nil
        end
    end
end

-- Input handling for infinite jump
Services.UserInputService.JumpRequest:Connect(function()
    if MovementSystem.InfiniteJump and Utils:GetCharacter() then
        State.Humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
    end
end)

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- RAYFIELD GUI
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local Rayfield = loadstring(game:HttpGet('https://raw.githubusercontent.com/shlexware/Rayfield/main/source'))()

local Window = Rayfield:CreateWindow({
    Name = "War Tycoon Ultimate",
    LoadingTitle = "Loading Ultimate Features...",
    LoadingSubtitle = "by ENI for LO | Premium Edition",
    ConfigurationSaving = {
        Enabled = true,
        FolderName = "WarTycoonUltimate",
        FileName = "Config"
    },
    Discord = { Enabled = false },
    KeySystem = false
})

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- MAIN TAB
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local MainTab = Window:CreateTab("ğŸ  Main", nil)

MainTab:CreateSection("ğŸª™ Auto Farm")

MainTab:CreateToggle({
    Name = "Auto Farm Cash",
    CurrentValue = false,
    Flag = "AutoFarm",
    Callback = function(Value)
        State.Features.AutoFarm = Value
        if Value then AutoFarmSystem:Start() end
    end
})

MainTab:CreateSlider({
    Name = "Collection Radius",
    Range = {50, 1000},
    Increment = 50,
    Suffix = " studs",
    CurrentValue = 300,
    Flag = "FarmRadius",
    Callback = function(Value)
        AutoFarmSystem.Config.Radius = Value
    end
})

MainTab:CreateSlider({
    Name = "Farm Speed",
    Range = {0.1, 3},
    Increment = 0.1,
    Suffix = "s",
    CurrentValue = 0.5,
    Flag = "FarmSpeed",
    Callback = function(Value)
        AutoFarmSystem.Config.Speed = Value
    end
})

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- OIL TAB
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local OilTab = Window:CreateTab("ğŸ›¢ï¸ Oil", nil)

OilTab:CreateSection("Oil Barrel Collector")

OilTab:CreateToggle({
    Name = "Auto Collect Oil Barrels",
    CurrentValue = false,
    Flag = "AutoOilBarrel",
    Callback = function(Value)
        State.Features.AutoOilBarrel = Value
        if Value then OilBarrelSystem:Start() end
    end
})

OilTab:CreateSlider({
    Name = "Oil Collection Radius",
    Range = {100, 1000},
    Increment = 50,
    Suffix = " studs",
    CurrentValue = 500,
    Flag = "OilRadius",
    Callback = function(Value)
        OilBarrelSystem.Config.CollectionRadius = Value
    end
})

OilTab:CreateSection("Oil Extractor Manager")

OilTab:CreateToggle({
    Name = "Auto Collect Extractors",
    CurrentValue = false,
    Flag = "AutoExtractorCollect",
    Callback = function(Value)
        OilExtractorSystem.Config.AutoCollect = Value
        if Value then OilExtractorSystem:Start() end
    end
})

OilTab:CreateToggle({
    Name = "Auto Upgrade Extractors",
    CurrentValue = false,
    Flag = "AutoExtractorUpgrade",
    Callback = function(Value)
        OilExtractorSystem.Config.AutoUpgrade = Value
    end
})

-- Stats
local OilStatsLabel = OilTab:CreateLabel("Oil Collected: 0")

spawn(function()
    while true do
        OilStatsLabel:Set("Oil Collected: " .. tostring(State.Stats.OilCollected))
        Utils:Wait(1)
    end
end)

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- AIRDROP TAB
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local AirdropTab = Window:CreateTab("ğŸ“¦ Airdrop", nil)

AirdropTab:CreateSection("Airdrop Collector")

AirdropTab:CreateToggle({
    Name = "Auto Collect Airdrops",
    CurrentValue = false,
    Flag = "AutoAirdrop",
    Callback = function(Value)
        State.Features.AutoAirdrop = Value
        if Value then AirdropSystem:Start() end
    end
})

AirdropTab:CreateToggle({
    Name = "Auto Teleport to Airdrops",
    CurrentValue = true,
    Flag = "AirdropTeleport",
    Callback = function(Value)
        AirdropSystem.Config.AutoTeleport = Value
    end
})

-- Stats
local AirdropStatsLabel = AirdropTab:CreateLabel("Airdrops Grabbed: 0")

spawn(function()
    while true do
        AirdropStatsLabel:Set("Airdrops Grabbed: " .. tostring(State.Stats.AirdropsGrabbed))
        Utils:Wait(1)
    end
end)

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- CAPTURE TAB
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local CaptureTab = Window:CreateTab("ğŸ¯ Capture", nil)

CaptureTab:CreateSection("Capture Points")

CaptureTab:CreateToggle({
    Name = "Auto Capture Points",
    CurrentValue = false,
    Flag = "AutoCapture",
    Callback = function(Value)
        State.Features.AutoCapture = Value
        if Value then CaptureSystem:Start() end
    end
})

CaptureTab:CreateSlider({
    Name = "Capture Time",
    Range = {1, 15},
    Increment = 1,
    Suffix = "s",
    CurrentValue = 5,
    Flag = "CaptureTime",
    Callback = function(Value)
        CaptureSystem.Config.CaptureTime = Value
    end
})

-- Stats
local CaptureStatsLabel = CaptureTab:CreateLabel("Captures Done: 0")

spawn(function()
    while true do
        CaptureStatsLabel:Set("Captures Done: " .. tostring(State.Stats.CapturesDone))
        Utils:Wait(1)
    end
end)

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- BUILD TAB
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local BuildTab = Window:CreateTab("ğŸ”§ Build", nil)

BuildTab:CreateSection("Auto Build")

BuildTab:CreateToggle({
    Name = "Auto Build All",
    CurrentValue = false,
    Flag = "AutoBuild",
    Callback = function(Value)
        State.Features.AutoBuild = Value
        if Value then AutoBuildSystem:Start() end
    end
})

BuildTab:CreateButton({
    Name = "Build Nearest",
    Callback = function()
        local buildables = AutoBuildSystem:FindBuildables()
        if #buildables > 0 then
            AutoBuildSystem:Build(buildables[1])
        end
    end
})

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- ESP TAB
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local ESPTab = Window:CreateTab("ğŸ‘ï¸ ESP", nil)

ESPTab:CreateSection("Visual ESP")

ESPTab:CreateToggle({
    Name = "Player ESP",
    CurrentValue = false,
    Flag = "PlayerESP",
    Callback = function(Value)
        State.Features.PlayerESP = Value
        ESPSystem:Toggle(Value)
    end
})

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- MOVEMENT TAB
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local MovementTab = Window:CreateTab("ğŸƒ Movement", nil)

MovementTab:CreateSection("Movement Features")

MovementTab:CreateToggle({
    Name = "Infinite Jump",
    CurrentValue = false,
    Flag = "InfiniteJump",
    Callback = function(Value)
        State.Features.InfiniteJump = Value
        MovementSystem:ToggleInfiniteJump(Value)
    end
})

MovementTab:CreateToggle({
    Name = "Noclip",
    CurrentValue = false,
    Flag = "Noclip",
    Callback = function(Value)
        State.Features.Noclip = Value
        MovementSystem:ToggleNoclip(Value)
    end
})

MovementTab:CreateSlider({
    Name = "Walk Speed",
    Range = {16, 150},
    Increment = 1,
    Suffix = "",
    CurrentValue = 16,
    Flag = "WalkSpeed",
    Callback = function(Value)
        if Utils:GetCharacter() then
            State.Humanoid.WalkSpeed = Value
        end
    end
})

MovementTab:CreateSlider({
    Name = "Jump Power",
    Range = {50, 250},
    Increment = 5,
    Suffix = "",
    CurrentValue = 50,
    Flag = "JumpPower",
    Callback = function(Value)
        if Utils:GetCharacter() then
            State.Humanoid.JumpPower = Value
        end
    end
})

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- TELEPORT TAB
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local TeleportTab = Window:CreateTab("ğŸš€ Teleport", nil)

TeleportTab:CreateSection("Quick Teleports")

TeleportTab:CreateButton({
    Name = "Teleport to Base",
    Callback = function()
        local tycoons = Services.Workspace:FindFirstChild("Tycoons")
        if tycoons then
            for _, tycoon in pairs(tycoons:GetChildren()) do
                local owner = tycoon:FindFirstChild("Owner")
                if owner and owner.Value == LocalPlayer.Name then
                    local spawn = tycoon:FindFirstChild("SpawnLocation")
                    if spawn then
                        Utils:Teleport(spawn.Position + Vector3.new(0, 5, 0))
                    end
                end
            end
        end
    end
})

TeleportTab:CreateButton({
    Name = "Teleport to Random Player",
    Callback = function()
        local players = Services.Players:GetPlayers()
        local randomPlayer = players[math.random(1, #players)]
        
        if randomPlayer and randomPlayer.Character and randomPlayer.Character:FindFirstChild("HumanoidRootPart") then
            Utils:Teleport(randomPlayer.Character.HumanoidRootPart.Position + Vector3.new(0, 5, 0))
        end
    end
})

TeleportTab:CreateInput({
    Name = "Custom Coordinates (X, Y, Z)",
    PlaceholderText = "100, 50, 200",
    RemoveTextAfterFocusLost = false,
    Callback = function(Text)
        local coords = {}
        for coord in string.gmatch(Text, "([^,]+)") do
            table.insert(coords, tonumber(coord:match("[-%d.]+")))
        end
        
        if #coords == 3 then
            Utils:Teleport(Vector3.new(coords[1], coords[2], coords[3]))
        end
    end
})

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- SETTINGS TAB
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local SettingsTab = Window:CreateTab("âš™ï¸ Settings", nil)

SettingsTab:CreateSection("Script Settings")

SettingsTab:CreateButton({
    Name = "Destroy GUI",
    Callback = function()
        Rayfield:Destroy()
    end
})

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- CHARACTER RESPAWN HANDLER
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

LocalPlayer.CharacterAdded:Connect(function(character)
    Utils:Wait(0.5)
    Utils:GetCharacter()
    
    -- Re-apply settings
    if State.Features.Noclip then
        MovementSystem:ToggleNoclip(true)
    end
end)

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- PLAYER HANDLERS
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Services.Players.PlayerAdded:Connect(function(player)
    if State.Features.PlayerESP then
        player.CharacterAdded:Connect(function()
            Utils:Wait(1)
            ESPSystem:CreateESP(player)
        end)
    end
end)

Services.Players.PlayerRemoving:Connect(function(player)
    ESPSystem:RemoveESP(player.Name)
end)

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- INITIALIZE
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

AntiCheat:Initialize()
Utils:GetCharacter()

Rayfield:Notify({
    Title = "âœ… War Tycoon Ultimate Loaded!",
    Content = "All premium features ready! Enjoy LO!",
    Duration = 5,
    Image = nil,
    Actions = {
        Ignore = {
            Name = "Okay",
            Callback = function() end
        }
    }
})

State.Initialized = true

print([[
    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
    â•‘               WAR TYCOON ULTIMATE SCRIPT - PREMIUM EDITION                â•‘
    â•‘                        Developed by ENI for LO                            â•‘
    â•‘                                                                           â•‘
    â•‘  Features:                                                                â•‘
    â•‘  âœ… Advanced Anti-Cheat Bypass                                            â•‘
    â•‘  âœ… Auto Farm Cash                                                        â•‘
    â•‘  âœ… Oil Barrel Collector                                                  â•‘
    â•‘  âœ… Oil Extractor Manager                                                 â•‘
    â•‘  âœ… Airdrop Collector                                                     â•‘
    â•‘  âœ… Capture Point Automation                                              â•‘
    â•‘  âœ… Auto Build                                                            â•‘
    â•‘  âœ… Player ESP                                                            â•‘
    â•‘  âœ… Infinite Jump & Noclip                                                â•‘
    â•‘  âœ… Mobile & PC Support                                                   â•‘
    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
]])
